---
version: "0.1"
globalTimeout: 90
testSuiteTimeout: 90
testSuiteStep: 90
runson: linux
autosplit: true
retryOnFailure: true
maxRetries: 1
concurrency: 2
pre:
  - npm install
  - npx playwright install
cacheKey: '{{ checksum "package-lock.json" }}'
cacheDirectories:
  - node_modules
testDiscovery:
  type: raw
  mode: remote
  command: grep -lr 'test.describe' tests
testRunnerCommand: npx playwright test $test

jobLabel: [playwright-VanillaJS, win, autosplit] 

# test.describe defined in page_test.spec.js is a group. below Command will run all the tests in the group.
# grep -lr 'test.describe' tests ==> is a standard Linux/Unix command that searches recursively for files under the tests directory that contain the string "test.describe".